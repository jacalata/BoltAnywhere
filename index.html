<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="//cdn.auth0.com/js/lock-7.12.min.js"></script>

		<script src="//use.typekit.net/iws6ohy.js"></script>
		<script>try{Typekit.load();}catch(e){}</script>

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-73842912-1', 'auto');
		  ga('send', 'pageview');

		</script>

		<!-- font awesome from BootstrapCDN -->
		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">

		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-62346788-1', 'auto');
			  ga('send', 'pageview');
		</script>
		<script type="text/javascript" src="data/schedules.json"></script>
		<script>
			var table = document.getElementById("displayTable"); //give this ID to your table
			$.getJSON( "schedules.json", function( schedule ) {
				console.log(schedule.length)
				 var table_obj = $('table');
				 var table_head = $('<thead>');
				 var table_row = $('<tr>', {id: "header"});				 
					 var table_cell_date = $('<th>', {html: "date"}); 
						 table_row.append(table_cell_date);
					 var table_cell_deptime = $('<th>', {html: "dep_time"});
						 table_row.append(table_cell_deptime);
					/* var table_cell_depcity = $('<th>', {html: "dep_city"});
						 table_row.append(table_cell_depcity)
					 var table_cell_arrcity = $('<th>', {html: "arr_city"});
						 table_row.append(table_cell_arrcity);
					 */var table_cell_arrtime = $('<th>', {html: "arr_time"}); 
						 table_row.append(table_cell_arrtime);
					 var table_cell_price = $('<th>', {html: "price"});
						 table_row.append(table_cell_price);
					table_head.append(table_row);
					table_obj.append(table_head);
					var tbody = $('<tbody>');
					$.each(schedule, function(index, item){
						 console.log(item)
						 var table_row = $('<tr>', {id: index});
						 var table_cell_date = $('<td>', {html: item.date}); 
						 table_row.append(table_cell_date);
						 var table_cell_deptime = $('<td>', {html: item.dep_time});
						 table_row.append(table_cell_deptime);
						 /*var table_cell_depcity = $('<td>', {html: item.dep_city});
						 table_row.append(table_cell_depcity)
						 var table_cell_arrcity = $('<td>', {html: item.arr_city});
						 table_row.append(table_cell_arrcity);
						 */
						 var table_cell_arrtime = $('<td>', {html: item.arr_time}); 
						 table_row.append(table_cell_arrtime);
						 var table_cell_price = $('<td>', {html: item.price});
						 table_row.append(table_cell_price);
						 tbody.append(table_row);
					})
					table_obj.append(tbody);
			})
		</script>
		<link href="data/app.css" rel="stylesheet">
		<title>BoltBus ticket prices</title>
	</head>
	<body class="home">
	<h1>Showing upcoming prices from Seattle to Portland (as at  Feb 15 2016)</h1>
		<div class="container">
			<table id="table"> </table>
		</div>
	</body>
</html>
